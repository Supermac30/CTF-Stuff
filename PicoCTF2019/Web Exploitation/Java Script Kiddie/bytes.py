"""
    Prints out all possible inputs that results in a png with the header contained in the header array
    Trying each of them leads to one that works: ˧ˤˤ˧˨ˢ˩ˡˠºĈˣ˥ˤ˩
"""

def shift(shifts):
    """Shifts the bytes by the amounts in the array shifts."""
    f = open("bytes.txt", "r")
    png = f.readline().split()
    f.close()
    fixed = [None]*len(png)
    for i in range(16):
        for j in range(len(png)//16):
            shift = shifts[i]
            fixed[j*16+i] = png[(((j+shift)*16)%len(png))+i]
    #print(" ".join(fixed))
    return fixed

def put(num, ind, arr):
    """Puts a value in a location in a the png by trying each possible input."""
    out = shift(arr)
    while out[ind] != str(num):
        arr[ind%16] += 1
        out = shift(arr)
    return arr, out

header = [137, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, -1, -1, 0, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 0, -1, -1, 73, 68, 65, 84]
arr = [0] * 16
out = []
while True:
    for i in range(len(header)):
        if (header[i] == -1):
            continue
        arr, out = put(header[i], i, arr)
    maybe = [chr(num+48) for num in arr]
    print("".join(maybe))
    arr = [num+1 for num in arr]
